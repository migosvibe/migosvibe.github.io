(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[124],{3814:function(e,t,n){Promise.resolve().then(n.bind(n,4861)),Promise.resolve().then(n.t.bind(n,5250,23))},4861:function(e,t,n){"use strict";let a;n.r(t),n.d(t,{default:function(){return w}});var o=n(7437),c=n(2265),i=n(2053),l=n(9555);let r="https://migosvibe.github.io",s={Blue:"#92c3ff","Off White":"#e6ded6",Peach:"#ff9a94",Melon:"#ffb184",Purple:"#c69ffc","Dark Mode":"#000000","Haze Gray":"#6c6c6e"},g=[{key:"DarkMode",name:"DarkMode",thumimg:r+"/img/fukuhedrons_darkmode.png"},{key:"GalleryBG",name:"Gallery BG",thumimg:r+"/img/fukuhedrons_gallerybg1.png"},{key:"GalleryBG2",name:"Gallery BG2",thumimg:r+"/img/fukuhedrons_gallerybg2.jpg"},{key:"Wanted",name:"Wanted",thumimg:r+"/img/fukuhedrons_wanted1.png"},{key:"FukuPoster",name:"FukuPoster",thumimg:r+"/img/fukuhedrons_poster.png"},{key:"FrameWhite",name:"Frame White",thumimg:r+"/img/Fuku_FrameWhite.jpg"},{key:"FrameGold",name:"Frame Gold",thumimg:r+"/img/Fuku_FrameGold.jpg"}],d={GalleryBG:async(e,t,n)=>{let{buildInputFile:a,execute:o}=window.imagick,c=e.name,i=await a(r+"/img/vibes/bg1.png","bg1.png").catch(e=>{console.log("GalleryBG buildInputBgFile failed -".concat(new Date().toLocaleString()," \n").concat(e))});if(i){let n=["convert ".concat(i.name," ( -mattecolor #b89e14 ").concat(c," -frame 100x100+50+50 -flatten )"),"-geometry 650x650-0-0 -gravity center -composite ".concat(t,"_GalleryBG.png")].join(" "),{stdout:a,stderr:l,exitCode:r,outputFiles:s}=await o({inputFiles:[e,i],commands:n});if(0==r)return URL.createObjectURL(s[s.length-1].blob);console.log("GalleryBG #".concat(t," failed: \n").concat(l.join("\n")))}},GalleryBG2:async(e,t,n)=>{let{buildInputFile:a,execute:o}=window.imagick,c=e.name,i=await a(r+"/img/vibes/bg2.jpg","bg2.jpg").catch(e=>{console.log("GalleryBG2 buildInputBgFile failed -".concat(new Date().toLocaleString()," \n").concat(e))});if(i){let n=["convert ".concat(c," -resize 630x -crop 572x630+29+0 ").concat(t,"_crop.png"),"composite -geometry +670+695  ".concat(t,"_crop.png ").concat(i.name," ").concat(t,"_GalleryBG2.jpg")],{stdout:a,stderr:l,exitCode:r,outputFiles:s}=await o({inputFiles:[e,i],commands:n});if(0==r)return URL.createObjectURL(s[s.length-1].blob);console.log("GalleryBG2 #".concat(t," failed: \n").concat(l.join("\n")))}},FrameWhite:async(e,t,n)=>{let{buildInputFile:a,execute:o}=window.imagick,c=e.name,i=await a(r+"/img/vibes/frame_white.jpg","frame_white.jpg").catch(e=>{console.log("FrameWhite buildInputBgFile failed -".concat(new Date().toLocaleString()," \n").concat(e))});if(i){let n=["composite -geometry 1020x1020+490+494  ".concat(c," ").concat(i.name," ").concat(t,"_frame_white.jpg")],{stdout:a,stderr:l,exitCode:r,outputFiles:s}=await o({inputFiles:[e,i],commands:n});if(0==r)return URL.createObjectURL(s[s.length-1].blob);console.log("FrameWhite #".concat(t," failed: \n").concat(l.join("\n")))}},FrameGold:async(e,t,n)=>{let{buildInputFile:a,execute:o}=window.imagick,c=e.name,i=await a(r+"/img/vibes/frame_gold.jpg","frame_gold.jpg").catch(e=>{console.log("FrameGold buildInputBgFile failed -".concat(new Date().toLocaleString()," \n").concat(e))});if(i){let n=["composite -geometry 974x974+512+514  ".concat(c," ").concat(i.name," ").concat(t,"_frame_gold.jpg")],{stdout:a,stderr:l,exitCode:r,outputFiles:s}=await o({inputFiles:[e,i],commands:n});if(0==r)return URL.createObjectURL(s[s.length-1].blob);console.log("FrameGold #".concat(t," failed: \n").concat(l.join("\n")))}},DarkMode:async(e,t,n)=>{let{buildInputFile:a,execute:o}=window.imagick,c=(0,l.qv)(t);c.forEach(e=>{"Background"==e.trait_type&&(e.value="Dark Mode",e.id="8f185721a162382e32925de532b0fe1ba7813fc0ed0065a6e58d96da79092f61i23")});let i=await (0,l.co)(c),r=await a(i,t+".png").catch(e=>{console.log("DarkMode newInputFile failed -".concat(new Date().toLocaleString()," \n").concat(e))}),s=r.name;if(r){let e=["convert ".concat(s," ").concat(t,"_darkmode.png")],{stdout:n,stderr:a,exitCode:c,outputFiles:i}=await o({inputFiles:[r],commands:e});if(0==c)return URL.createObjectURL(i[i.length-1].blob);console.log("DarkMode #".concat(t," failed: \n").concat(a.join("\n")))}},Wanted:async(e,t,n)=>{let{buildInputFile:a,execute:o}=window.imagick,c=(0,l.qv)(t);c.forEach(e=>{"Background"==e.trait_type&&(e.value="Dark Mode",e.id="8f185721a162382e32925de532b0fe1ba7813fc0ed0065a6e58d96da79092f61i23")});let i=await (0,l.co)(c),s=await a(i,t+".png").catch(e=>{console.log("Wanted newInputFile failed -".concat(new Date().toLocaleString()," \n").concat(e))}),g=s.name,d=await a(r+"/img/vibes/wanted2.png","wanted.png").catch(e=>{console.log("Wanted buildInputBgFile failed -".concat(new Date().toLocaleString()," \n").concat(e))});if(d&&s){let e=["convert wanted.png -region ".concat(390,"x").concat(464,"+").concat(281,"+").concat(225," -fuzz 100% -fill #00070f -opaque #00070f  wanted_fill.png"),"composite -geometry ".concat(390,"x+").concat(281,"+").concat(299," ").concat(g," wanted_fill.png ").concat(t,"_wanted.png")],{stdout:n,stderr:a,exitCode:c,outputFiles:i}=await o({inputFiles:[s,d],commands:e});if(0==c)return URL.createObjectURL(i[i.length-1].blob);console.log("Wanted #".concat(t," failed: \n").concat(a.join("\n")))}},FukuPoster:async(e,t,n)=>{let{buildInputFile:a,execute:o}=window.imagick,c=e.name,i=await a(r+"/img/vibes/fukuhedrons_poster_paper.png","fukuhedrons_poster_paper.png").catch(e=>{console.log("fukuhedrons_poster_paper buildInputBgFile failed -".concat(new Date().toLocaleString()," \n").concat(e))}),g=await a(r+"/img/vibes/fukuhedrons_poster_text.png","fukuhedrons_poster_text.png").catch(e=>{console.log("fukuhedrons_poster_text buildInputBgFile failed -".concat(new Date().toLocaleString()," \n").concat(e))});if(i&&g){let n=s[(0,l.qv)(t).find(e=>"Background"==e.trait_type).value],a=["composite -compose Dst_Over -geometry 810x810+0+145 ".concat(c," ").concat(g.name," ").concat(t,"_1.png"),"composite ".concat(i.name," ").concat(t,"_1.png ").concat(t,"_2.png"),"convert ".concat(t,"_2.png -background '").concat(n,"' -flatten ").concat(t,"_poster.png")],{stdout:r,stderr:d,exitCode:m,outputFiles:u}=await o({inputFiles:[e,i,g],commands:a});if(0==m)return URL.createObjectURL(u[u.length-1].blob);console.log("WalmarkPoster ".concat(t," failed: \n").concat(d.join("\n")))}},EarsAnimation:async(e,t,n)=>{let{buildInputFile:a,execute:o}=window.imagick,c=(0,l.qv)(t),i=l.kv.find(e=>"Ears"==e[0])[1].filter(e=>e[0].includes("Blue")),r=i[2],s=i[1],g=i[3],d=i[0],m=c.find(e=>"Teeth"==e.trait_type);c.findIndex(e=>"Teeth"==e.trait_type);let u=c.findIndex(e=>"Ears"==e.trait_type),p=c[u];p.value=r[0],p.id=r[1];let f=await (0,l.co)(c),w=await a(f,t+"_1.png").catch(e=>{console.log("EarsAnimation InputFile1 failed -".concat(new Date().toLocaleString()," \n").concat(e))});p.value=s[0],p.id=s[1];let h=await (0,l.co)(c),b=await a(h,t+"_2.png").catch(e=>{console.log("EarsAnimation InputFile2 failed -".concat(new Date().toLocaleString()," \n").concat(e))});p.value=g[0],p.id=g[1];let k=await (0,l.co)(c),y=await a(k,t+"_3.png").catch(e=>{console.log("EarsAnimation InputFile3 failed -".concat(new Date().toLocaleString()," \n").concat(e))});p.value=d[0],p.id=d[1];let v=await (0,l.co)(c),_=await a(v,t+"_4.png").catch(e=>{console.log("EarsAnimation InputFile4 failed -".concat(new Date().toLocaleString()," \n").concat(e))});p.value=s[0],p.id=s[1],m?(m.value="Tongue Big",m.id="8f185721a162382e32925de532b0fe1ba7813fc0ed0065a6e58d96da79092f61i5"):c.push({trait_type:"Teeth",value:"Tongue Big",id:"8f185721a162382e32925de532b0fe1ba7813fc0ed0065a6e58d96da79092f61i5"});let x=await (0,l.co)(c),j=await a(x,t+"_5.png").catch(e=>{console.log("EarsAnimation InputFile5 failed -".concat(new Date().toLocaleString()," \n").concat(e))});if(w&&b&&y&&_){let e=["convert -loop 0","-delay 12 ".concat(w.name),"-delay 12 ".concat(b.name),"-delay 12 ".concat(y.name),"-delay 12 ".concat(_.name),"-delay 12 ".concat(w.name),"-delay 50 ".concat(j.name),"-layers Optimize  ".concat(t,"_ears_animate.gif")].join(" "),{stdout:n,stderr:a,exitCode:c,outputFiles:i}=await o({inputFiles:[w,b,y,_,j],commands:e});if(console.log("end EarsAnimation"),0==c)return URL.createObjectURL(i[i.length-1].blob);console.log("EarsAnimation #".concat(t," failed: \n").concat(a.join("\n")))}},test:async(e,t,n)=>{let{buildInputFile:a,readFileAsText:o,execute:c,call:i}=window.imagick,l=e.name;originData.find(e=>e.id==t);let s=await a(r+"/img/vibes/scape.png","scape.png").catch(e=>{console.log(" buildInputBgFile failed -".concat(new Date().toLocaleString()," \n").concat(e))}),g=["convert ".concat(l,"  -fuzz 10% -fill 'transparent' -opaque '#7ba5fa' ").concat(t,"_clean.png"),"composite  -geometry 600x600+0+0 ".concat(t,"_clean.png ").concat(s.name," scape_test.png"),"convert scape_test.png -crop 600x600+0+0 scape_test1.png"];console.log(g);let{stdout:d,stderr:m,exitCode:u,outputFiles:p}=await c({inputFiles:[e,s],commands:g});if(console.log(p,"outputFiles"),0==u)return URL.createObjectURL(p[p.length-1].blob);console.log("test ".concat(t," failed: \n").concat(m.join("\n")))}},m="https://migosvibe.github.io",u="".concat(m,"/img/fukuhedrons_4268.png"),p={},f=[];for(let e=0;e<g.length;e++){let t=parseInt(e/8);f[t]?f[t].push(g[e]):f[t]=[g[e]]}function w(){let[e,t]=(0,c.useState)(u),[n,r]=(0,c.useState)(),[s,g]=(0,c.useState)(),[w,h]=(0,c.useState)(!1);(0,c.useEffect)(()=>{window.onerror=function(e,n,a,o,c){window.gtag&&window.gtag("event","Fukuhedrons onerror",{message:e,source:n}),console.log("".concat(e," \n").concat(n)),n.includes("magick.js")?(alert("Unknown error will reload the page"),window.location.reload()):(h(!1),g(),t(u))}},[]);let b=(0,i.y1)(async e=>{let{buildInputFile:n}=window.imagick,o=e.target.value;if(/^\d{1,5}$/.test(o)&&1*o>=1&&1*o<=1e4){h(!0);let e=await (0,l.co)((0,l.qv)(o));t(e),r(Number(o)),g(),window.gtag&&window.gtag("event","Fukuhedrons inputTokenId",{currentTokenId:o}),n(e,"".concat(o,".png")).then(e=>{a=e,console.log("inputFileName: ".concat(a.name))})}else t(u),r(),e.target.value="",o.trim()&&alert("Please input a correct tokenId")},760),k=async e=>{if(!w&&(!s||s.key!=e.key)){if(g(e),h(!0),void 0!=n){if(p&&p[e.key]&&p[e.key][0]==n){t(p[e.key][1]),h(!1);return}if(window.gtag&&window.gtag("event","Fukuhedrons ".concat(e.key),{tokenId:n}),!a||a.name!="".concat(n,".png")){console.log("start buildInputFile #".concat(n,"  -").concat(new Date().toLocaleString()));let{buildInputFile:e}=window.imagick,o=await (0,l.co)((0,l.qv)(n));if(t(o),a=await e(o,"".concat(n,".png")).catch(e=>{alert(e.message),console.log("buildInputFile fail -".concat(new Date().toLocaleString()," \n").concat(e))}),console.log("end buildInputFile #".concat(n,"  -").concat(new Date().toLocaleString()," \n").concat(a.name)),!a)return h(!1)}console.log("start execute ".concat(e.name," #").concat(n,"  -").concat(new Date().toLocaleString()));let o=await d[e.key](a,n);console.log("end execute ".concat(e.name," #").concat(n,"  -").concat(new Date().toLocaleString()," \n").concat(o)),o?(t(o),p[e.key]=[n,o]):(g(),alert("".concat(e.name," #").concat(n," failed")))}else t(e.thumimg);h(!1)}};return(0,o.jsxs)("div",{className:"imagick",children:[(0,o.jsxs)("div",{className:"imagick-step1 font-silk text-xl relative",children:[(0,o.jsx)("div",{className:"text-center mb-3",children:"Step1. Input Your TokenId"}),(0,o.jsx)("div",{className:"flex justify-center",children:(0,o.jsx)("input",{type:"text",className:"flex-auto max-w-80 border-none rounded-full py-1 color_121212 text-center focus:outline-none",onChange:b})})]}),(0,o.jsxs)("div",{className:"imagick-step2 flex flex-col items-center py-8 relative",children:[(0,o.jsxs)("div",{className:"vibe-display h-80 max-w-screen-sm flex-auto relative group",children:[(0,o.jsx)("img",{onLoad:()=>h(!1),className:"w-full h-full object-contain object-center",src:e}),(0,o.jsx)("div",{className:"".concat(w?"":"hidden"," w-full h-full absolute top-0 left-0 z-10 flex justify-center items-center bg-white/80"),children:(0,o.jsx)("img",{className:"w-8 animate-spin nakamigos-color",src:"".concat(m,"/img/progress.svg")})}),(0,o.jsx)(()=>{if(void 0!=n&&!1==w&&s){let t="".concat(s.key,"_").concat(n)+(["EarsAnimation"].includes(s.key)?".gif":["GalleryBG2","FrameGold","FrameWhite"].includes(s.key)?".jpg":".png");return(0,o.jsx)("div",{className:"vibe-download flex justify-center absolute z-10 -right-3 bottom-1.5 translate-x-full ",children:(0,o.jsx)("a",{onClick:()=>{window.gtag&&window.gtag("event","Fukuhedrons download",{fileName:t})},download:t,href:"".concat(e),className:"nakamigos-button py-1.5 px-1.5 rounded",style:{fontSize:"11px"},children:"Download"})})}},{})]}),(0,o.jsx)("div",{className:"text-center mb-3 mt-6  text-xl font-silk",children:"Step2. Click to Select Vibe"}),(0,o.jsx)("div",{className:"vibe-select-wraper",children:f.map((e,t)=>(0,o.jsx)("div",{className:"vibe-select flex w-full flex-auto mb-5",children:e.map(e=>(0,o.jsxs)("div",{className:"vibe-item mx-1 px-0.5 pt-0.5 cursor-pointer  border ".concat(s&&s.name==e.name?"border-solid border-fuchsia-600":"border-transparent hover:border-fuchsia-600"),onClick:()=>k(e),children:[(0,o.jsx)("div",{className:"item-thum size-20 mx-auto",children:(0,o.jsx)("img",{className:"w-full h-full object-contain object-center",src:e.thumimg})}),(0,o.jsx)("div",{className:"item-name flex items-center justify-center h-5 text-xs",style:{fontSize:"11px"},children:e.name})]},e.key))},t))})]})]})}},9555:function(e,t,n){"use strict";n.d(t,{$C:function(){return o},co:function(){return l},kv:function(){return c},qv:function(){return i}});var a=n(1368);let o="".concat("https://migosvibe.github.io","/img/fuku_meta/"),c=a[0],i=e=>{e=Number(e)-1;let t=c.map(e=>{let[t,n]=e;return n.map(e=>{let[n,a]=e;return{trait_type:t,value:n,id:a}})}).flat();return a[1][e].map(e=>t[e])},l=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3,a=["Background","Type","Body","Arm","Chest","Mouth","Teeth","Head","Ears","Eyes","Eye Style","Pupils"],c=[];for(let t=0;t<a.length;t++){let n=a[t],o=e.findIndex(e=>e.trait_type==n);-1!=o&&c.push(e[o])}let i=await Promise.all(c.map(e=>new Promise(t=>{let n=new Image;n.crossOrigin="anonymous",n.onload=()=>t(n),n.src="".concat(o).concat(e.id,".svg")}))),l=new OffscreenCanvas(t,n),r=l.getContext("2d");return r.imageSmoothingEnabled=!0,i.forEach(e=>r.drawImage(e,0,0,t,n)),URL.createObjectURL(await l.convertToBlob())}}},function(e){e.O(0,[48,638,971,938,744],function(){return e(e.s=3814)}),_N_E=e.O()}]);